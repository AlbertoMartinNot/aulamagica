/* Este test comprueba la navegacion en la página clickando uno de los botones del navegador
* y esperando que la Url resultante sea la que pedimos en el test, de ser correcto
* en la consola de comandos nos muestra un log con Correcto! y la Url a la que ha navegado,
* que tiene que ser la misma que la que hemos pedido en el test.
*/
//Iniciamos el driver de Selenium
var webdriver = require('selenium-webdriver'),
By = webdriver.By,
until = webdriver.until;

//Creamos el navegador de pruebas
var driver = new webdriver.Builder()
.forBrowser('chrome')
.build();

//Navegamos a nuestra página en el navegador y realizamos las pruebas
driver.get('http://localhost:8080/mayia.html#!/');
driver.findElement(By.name('cursos')).click()
	.then(driver.wait(until.urlIs('http://localhost:8080/mayia.html#!/cursos')),2000)
	.then(driver.getCurrentUrl().then(function(url){
		console.log('Correcto!  La Url es: '+url);
	}))
	.then(driver.quit());